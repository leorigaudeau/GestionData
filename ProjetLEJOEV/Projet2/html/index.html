<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Evan RETIERE</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<script src="position.js"></script>
    
</head>
<body>
<!-- Un élément HTML pour recueillir l’affichage -->
<div id="maposition"></div>

<!-- Un élément HTML pour recueillir la carte -->
<div id="map" onload="initCoords()" style="width:100%;height:480px" ></div>

<input type="button" onclick="suivre();" value="Suivre !">
<input type="button" value="Annuler">

<!-- Chargement de l'API Google maps -->
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDSug2GWFqJ6RImT-6TVzr2nhq_9pdi82Q"></script>

<script>
	
	var map;      // global variable
	var latlng = new google.maps.LatLng(39.305, -76.617);


	// assigning to global variable:
	map = new google.maps.Map(document.getElementById("map"),
		{
			center: latlng,
			zoom: 12,
			mapTypeId: google.maps.MapTypeId.ROADMAP
		});

	function getLocation() {
		if (navigator.geolocation) {
			navigator.geolocation.getCurrentPosition(suivre, showError);
		} else {
			x.innerHTML = "Geolocation is not supported by this browser.";
		}
	}



	function suivre(position) {
		var latitude = position.coords.latitude;
		var longitude = position.coords.longitude;
		latlng = new google.maps.LatLng(latitude, longitude);
		// using global variable:
		map.panTo(latlng);
		alert("yo");
	};


	function showError(error) {
		switch(error.code) {
		  case error.PERMISSION_DENIED:
			x.innerHTML = "User denied the request for Geolocation."
			break;
		  case error.POSITION_UNAVAILABLE:
			x.innerHTML = "Location information is unavailable."
			break;
		  case error.TIMEOUT:
			x.innerHTML = "The request to get user location timed out."
			break;
		  case error.UNKNOWN_ERROR:
			x.innerHTML = "An unknown error occurred."
			break;
		}
	  }

</script>

</body>

</html>